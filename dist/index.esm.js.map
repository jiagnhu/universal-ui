{"version":3,"file":"index.esm.js","sources":["../src/components/button/uds-button.js","../src/index.js"],"sourcesContent":["// @ts-nocheck\n\n// UDS Button Component\nclass UdsButton extends HTMLElement {\n  // Define private properties\n  _button = null;\n  \n  static get observedAttributes() {\n    return ['size', 'disabled', 'loading', 'type', 'round', 'plain'];\n  }\n\n  constructor() {\n    super();\n    this._onClick = this._onClick.bind(this);\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this.attachShadow({ mode: 'open' });\n    this._render();\n  }\n\n  connectedCallback() {\n    this._upgradeProperty('size');\n    this._upgradeProperty('disabled');\n    this._upgradeProperty('loading');\n    this._upgradeProperty('type');\n    this._upgradeProperty('round');\n    this._upgradeProperty('plain');\n\n    this.setAttribute('role', 'button');\n    this.tabIndex = this.disabled ? -1 : 0;\n    this.addEventListener('click', this._onClick);\n    this.addEventListener('keydown', this._onKeyDown);\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener('click', this._onClick);\n    this.removeEventListener('keydown', this._onKeyDown);\n  }\n\n  attributeChangedCallback() {\n    this._updateState();\n  }\n\n  _upgradeProperty(prop) {\n    if (this.hasOwnProperty(prop)) {\n      const value = this[prop];\n      delete this[prop];\n      this[prop] = value;\n    }\n  }\n\n  async _render() {\n    if (!this.shadowRoot) return;\n    \n    // 加载CSS\n    const linkElem = document.createElement('link');\n    linkElem.setAttribute('rel', 'stylesheet');\n    linkElem.setAttribute('href', new URL('./uds-button.css', import.meta.url).href);\n    this.shadowRoot.appendChild(linkElem);\n    \n    // 加载HTML模板\n    try {\n      const response = await fetch(new URL('./uds-button.html', import.meta.url).href);\n      const templateText = await response.text();\n      const template = document.createElement('template');\n      template.innerHTML = templateText;\n      this.shadowRoot.appendChild(template.content.cloneNode(true));\n      \n      // 获取按钮元素引用\n      this._button = this.shadowRoot.querySelector('.button');\n      this._updateState();\n    } catch (error) {\n      console.error('Failed to load button template:', error);\n    }\n  }\n\n  _updateState() {\n    if (!this._button) return;\n    \n    // 处理variant属性（优先）\n    this._button.classList.remove('button--solid', 'button--outline', 'button--ghost', 'button--text');\n    if (this.hasAttribute('variant')) {\n      const variant = this.getAttribute('variant');\n      this._button.classList.add(`button--${variant}`);\n    } else if (this.type === 'text') {\n      // 如果type是text，应用文本按钮样式\n      this._button.classList.add('button--text');\n    } else if (this.plain) {\n      // 如果没有variant但有plain属性\n      this._button.classList.add('button--outline');\n    } else if (this.hasAttribute('type')) {\n      // 如果有type属性但没有variant和plain\n      this._button.classList.add('button--solid');\n    } else {\n      // 默认为ghost（幽灵按钮）\n      this._button.classList.add('button--ghost');\n    }\n    \n    // Update type\n    this._button.classList.remove('button--primary', 'button--secondary', 'button--danger');\n    if (this.hasAttribute('type') && this.type !== 'text') {\n      const type = this.type || 'primary';\n      this._button.classList.add(`button--${type}`);\n    } else if (this.type === 'text') {\n      // 为文本按钮添加默认primary类型\n      this._button.classList.add('button--primary');\n    }\n    \n    // Update size\n    this._button.classList.remove('button--sm', 'button--lg');\n    if (this.size && this.size !== 'md') {\n      this._button.classList.add(`button--${this.size}`);\n    }\n    \n    // Update shape\n    this._button.classList.remove('button--round');\n    if (this.round) {\n      this._button.classList.add('button--round');\n    }\n    \n    // Update disabled state\n    this._button.disabled = this.disabled;\n    this._button.setAttribute('aria-disabled', String(this.disabled));\n    \n    // Update loading state\n    if (this.loading) {\n      this._button.classList.add('button--loading');\n      this._button.setAttribute('aria-busy', 'true');\n    } else {\n      this._button.classList.remove('button--loading');\n      this._button.removeAttribute('aria-busy');\n    }\n  }\n\n  _onClick(event) {\n    if (this.disabled || this.loading) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n    \n    // Dispatch custom event\n    this.dispatchEvent(new CustomEvent('uds-click', {\n      bubbles: true,\n      composed: true,\n      detail: { originalEvent: event }\n    }));\n  }\n\n  _onKeyDown(event) {\n    if (this.disabled || this.loading) return;\n    \n    // Handle space and enter keys\n    if (event.key === ' ' || event.key === 'Enter') {\n      event.preventDefault();\n      if (this._button) {\n        this._button.click();\n      }\n    }\n  }\n\n  // Properties\n  get plain() {\n    return this.hasAttribute('plain');\n  }\n  \n  set plain(value) {\n    if (value) {\n      this.setAttribute('plain', '');\n    } else {\n      this.removeAttribute('plain');\n    }\n  }\n  \n  get size() {\n    return this.getAttribute('size');\n  }\n  \n  set size(value) {\n    if (value === null) {\n      this.removeAttribute('size');\n    } else {\n      this.setAttribute('size', value);\n    }\n  }\n  \n  get disabled() {\n    return this.hasAttribute('disabled');\n  }\n  \n  set disabled(value) {\n    if (value) {\n      this.setAttribute('disabled', '');\n    } else {\n      this.removeAttribute('disabled');\n    }\n    \n    this.tabIndex = value ? -1 : 0;\n  }\n  \n  get loading() {\n    return this.hasAttribute('loading');\n  }\n  \n  set loading(value) {\n    if (value) {\n      this.setAttribute('loading', '');\n    } else {\n      this.removeAttribute('loading');\n    }\n  }\n  \n  get round() {\n    return this.hasAttribute('round');\n  }\n  \n  set round(value) {\n    if (value) {\n      this.setAttribute('round', '');\n    } else {\n      this.removeAttribute('round');\n    }\n  }\n  \n  get type() {\n    return this.getAttribute('type') || 'primary';\n  }\n  \n  set type(value) {\n    if (value === null) {\n      this.removeAttribute('type');\n    } else {\n      this.setAttribute('type', value);\n    }\n  }\n}\n\n// Register the custom element\ncustomElements.define('uds-button', UdsButton);\n\nexport default UdsButton;","// Main entry point for Universal UI\nimport './components/button/uds-button.js';\n\nconsole.log('Universal UI initialized');\n\n"],"names":["UdsButton","__publicField","prop","value","linkElem","templateText","template","error","variant","type","event"],"mappings":"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"}