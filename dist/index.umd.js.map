{"version":3,"file":"index.umd.js","sources":["../src/components/button/uds-button.js","../src/index.js"],"sourcesContent":["// @ts-nocheck\n\n// UDS Button Component\nclass UdsButton extends HTMLElement {\n  // Define private properties\n  _button = null;\n  \n  static get observedAttributes() {\n    return ['size', 'disabled', 'loading', 'type', 'round', 'plain'];\n  }\n\n  constructor() {\n    super();\n    this._onClick = this._onClick.bind(this);\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this.attachShadow({ mode: 'open' });\n    this._render();\n  }\n\n  connectedCallback() {\n    this._upgradeProperty('size');\n    this._upgradeProperty('disabled');\n    this._upgradeProperty('loading');\n    this._upgradeProperty('type');\n    this._upgradeProperty('round');\n    this._upgradeProperty('plain');\n\n    this.setAttribute('role', 'button');\n    this.tabIndex = this.disabled ? -1 : 0;\n    this.addEventListener('click', this._onClick);\n    this.addEventListener('keydown', this._onKeyDown);\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener('click', this._onClick);\n    this.removeEventListener('keydown', this._onKeyDown);\n  }\n\n  attributeChangedCallback() {\n    this._updateState();\n  }\n\n  _upgradeProperty(prop) {\n    if (this.hasOwnProperty(prop)) {\n      const value = this[prop];\n      delete this[prop];\n      this[prop] = value;\n    }\n  }\n\n  async _render() {\n    if (!this.shadowRoot) return;\n    \n    // 加载CSS\n    const linkElem = document.createElement('link');\n    linkElem.setAttribute('rel', 'stylesheet');\n    linkElem.setAttribute('href', new URL('./uds-button.css', import.meta.url).href);\n    this.shadowRoot.appendChild(linkElem);\n    \n    // 加载HTML模板\n    try {\n      const response = await fetch(new URL('./uds-button.html', import.meta.url).href);\n      const templateText = await response.text();\n      const template = document.createElement('template');\n      template.innerHTML = templateText;\n      this.shadowRoot.appendChild(template.content.cloneNode(true));\n      \n      // 获取按钮元素引用\n      this._button = this.shadowRoot.querySelector('.button');\n      this._updateState();\n    } catch (error) {\n      console.error('Failed to load button template:', error);\n    }\n  }\n\n  _updateState() {\n    if (!this._button) return;\n    \n    // 处理variant属性（优先）\n    this._button.classList.remove('button--solid', 'button--outline', 'button--ghost', 'button--text');\n    if (this.hasAttribute('variant')) {\n      const variant = this.getAttribute('variant');\n      this._button.classList.add(`button--${variant}`);\n    } else if (this.type === 'text') {\n      // 如果type是text，应用文本按钮样式\n      this._button.classList.add('button--text');\n    } else if (this.plain) {\n      // 如果没有variant但有plain属性\n      this._button.classList.add('button--outline');\n    } else if (this.hasAttribute('type')) {\n      // 如果有type属性但没有variant和plain\n      this._button.classList.add('button--solid');\n    } else {\n      // 默认为ghost（幽灵按钮）\n      this._button.classList.add('button--ghost');\n    }\n    \n    // Update type\n    this._button.classList.remove('button--primary', 'button--secondary', 'button--danger');\n    if (this.hasAttribute('type') && this.type !== 'text') {\n      const type = this.type || 'primary';\n      this._button.classList.add(`button--${type}`);\n    } else if (this.type === 'text') {\n      // 为文本按钮添加默认primary类型\n      this._button.classList.add('button--primary');\n    }\n    \n    // Update size\n    this._button.classList.remove('button--sm', 'button--lg');\n    if (this.size && this.size !== 'md') {\n      this._button.classList.add(`button--${this.size}`);\n    }\n    \n    // Update shape\n    this._button.classList.remove('button--round');\n    if (this.round) {\n      this._button.classList.add('button--round');\n    }\n    \n    // Update disabled state\n    this._button.disabled = this.disabled;\n    this._button.setAttribute('aria-disabled', String(this.disabled));\n    \n    // Update loading state\n    if (this.loading) {\n      this._button.classList.add('button--loading');\n      this._button.setAttribute('aria-busy', 'true');\n    } else {\n      this._button.classList.remove('button--loading');\n      this._button.removeAttribute('aria-busy');\n    }\n  }\n\n  _onClick(event) {\n    if (this.disabled || this.loading) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n    \n    // Dispatch custom event\n    this.dispatchEvent(new CustomEvent('uds-click', {\n      bubbles: true,\n      composed: true,\n      detail: { originalEvent: event }\n    }));\n  }\n\n  _onKeyDown(event) {\n    if (this.disabled || this.loading) return;\n    \n    // Handle space and enter keys\n    if (event.key === ' ' || event.key === 'Enter') {\n      event.preventDefault();\n      if (this._button) {\n        this._button.click();\n      }\n    }\n  }\n\n  // Properties\n  get plain() {\n    return this.hasAttribute('plain');\n  }\n  \n  set plain(value) {\n    if (value) {\n      this.setAttribute('plain', '');\n    } else {\n      this.removeAttribute('plain');\n    }\n  }\n  \n  get size() {\n    return this.getAttribute('size');\n  }\n  \n  set size(value) {\n    if (value === null) {\n      this.removeAttribute('size');\n    } else {\n      this.setAttribute('size', value);\n    }\n  }\n  \n  get disabled() {\n    return this.hasAttribute('disabled');\n  }\n  \n  set disabled(value) {\n    if (value) {\n      this.setAttribute('disabled', '');\n    } else {\n      this.removeAttribute('disabled');\n    }\n    \n    this.tabIndex = value ? -1 : 0;\n  }\n  \n  get loading() {\n    return this.hasAttribute('loading');\n  }\n  \n  set loading(value) {\n    if (value) {\n      this.setAttribute('loading', '');\n    } else {\n      this.removeAttribute('loading');\n    }\n  }\n  \n  get round() {\n    return this.hasAttribute('round');\n  }\n  \n  set round(value) {\n    if (value) {\n      this.setAttribute('round', '');\n    } else {\n      this.removeAttribute('round');\n    }\n  }\n  \n  get type() {\n    return this.getAttribute('type') || 'primary';\n  }\n  \n  set type(value) {\n    if (value === null) {\n      this.removeAttribute('type');\n    } else {\n      this.setAttribute('type', value);\n    }\n  }\n}\n\n// Register the custom element\ncustomElements.define('uds-button', UdsButton);\n\nexport default UdsButton;","// Main entry point for Universal UI\nimport './components/button/uds-button.js';\n\nconsole.log('Universal UI initialized');\n\n"],"names":["UdsButton","__publicField","prop","value","linkElem","_documentCurrentScript","templateText","template","error","variant","type","event"],"mappings":"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"}