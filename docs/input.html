<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UDS Input Component</title>
  <!-- 引入样式文件 -->
  <link rel="stylesheet" href="../dist/styles/tokens.css">
  <!-- 引入本地构建的universal-design-system包 -->
  <script src="../dist/index.umd.js"></script>
  <!-- 引用共用JS文件 -->
  <script src="js/common.js"></script>
  <style>
    body {
      font-family: var(--uds-font-sans);
      margin: 0;
      padding: 20px;
      background-color: var(--uds-color-bg);
      color: var(--uds-color-text);
    }
    
    .demo-section {
      margin-bottom: 32px;
    }
    
    .demo-row {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
      margin-bottom: 24px;
      align-items: center;
    }
    
    .input-wrapper {
      width: 300px;
    }
    
    .code-block {
      background: var(--uds-color-bg-subtle);
      border: 1px solid var(--uds-color-border);
      border-radius: var(--uds-radius-md);
      padding: 16px;
      margin: 16px 0;
      overflow: auto;
      font-family: monospace;
      display: none; /* 默认隐藏代码块 */
    }
    
    .code-block-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: var(--uds-color-bg-subtle);
      border: 1px solid var(--uds-color-border);
      border-radius: var(--uds-radius-md);
      padding: 8px 16px;
      margin: 16px 0;
      font-family: var(--uds-font-sans);
      font-size: 14px;
      color: var(--uds-color-text-subtle);
    }
    
    .code-toggle-btn {
      background: none;
      border: none;
      color: var(--uds-color-primary);
      cursor: pointer;
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 4px;
    }
    
    .code-toggle-btn:hover {
      text-decoration: underline;
    }
    
    .code-toggle-btn svg {
      width: 16px;
      height: 16px;
      transition: transform 0.2s;
    }
    
    .code-toggle-btn.expanded svg {
      transform: rotate(180deg);
    }
  </style>
  <script>
    // 监听来自父页面的消息，用于主题切换
    window.addEventListener('message', function(event) {
      if (event.data && event.data.type === 'themeChange') {
        if (event.data.theme === 'dark') {
          document.documentElement.setAttribute('data-theme', 'dark');
          document.body.classList.add('dark-theme');
        } else {
          document.documentElement.removeAttribute('data-theme');
          document.body.classList.remove('dark-theme');
        }
      }
    });
    
    // 检查URL参数中是否有主题设置
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('theme') === 'dark') {
      document.documentElement.setAttribute('data-theme', 'dark');
      document.body.classList.add('dark-theme');
    }
  </script>
</head>
<body>
  <h1>Input 输入框</h1>
  <p>输入框用于用户输入文本内容，是最基础的表单控件。</p>
  
  <section class="demo-section">
    <h2>基础用法</h2>
    <div class="demo-row">
      <div class="input-wrapper">
        <uds-input placeholder="请输入内容"></uds-input>
      </div>

      <div class="input-wrapper">
        <uds-input placeholder="请输入内容" multiline clear resizer autosize></uds-input>
      </div>
    </div>
    <div class="code-block">
      <pre><code>&lt;uds-input placeholder="请输入内容" multiline clear resizer autosize&gt;&lt;/uds-input&gt;</code></pre>
    </div>
  </section>
  
  <section class="demo-section">
    <h2>不同尺寸</h2>
    <div class="demo-row">
      <div class="input-wrapper">
        <uds-input size="sm" placeholder="小尺寸"></uds-input>
      </div>
      <div class="input-wrapper">
        <uds-input placeholder="默认尺寸" clear ></uds-input>
      </div>
      <div class="input-wrapper">
        <uds-input size="lg" placeholder="大尺寸"></uds-input>
      </div>
    </div>
    <div class="code-block">
      <pre><code>&lt;uds-input size="sm" placeholder="小尺寸"&gt;&lt;/uds-input&gt;
&lt;uds-input placeholder="默认尺寸"&gt;&lt;/uds-input&gt;
&lt;uds-input size="lg" placeholder="大尺寸"&gt;&lt;/uds-input&gt;</code></pre>
    </div>
  </section>
  
  <section class="demo-section">
    <h2>禁用状态</h2>
    <div class="demo-row">
      <div class="input-wrapper">
        <uds-input disabled placeholder="禁用状态"></uds-input>
      </div>
    </div>

    <div class="code-block">
      <pre><code>&lt;uds-input disabled placeholder="禁用状态"&gt;&lt;/uds-input&gt;</code></pre>
    </div>
  </section>
  
  <section class="demo-section">
    <h2>只读状态</h2>
    <div class="demo-row">
      <div class="input-wrapper">
        <uds-input readonly value="只读内容" placeholder="只读状态"></uds-input>
      </div>
    </div>
    <div class="code-block">
      <pre><code>&lt;uds-input readonly value="只读内容" placeholder="只读状态"&gt;&lt;/uds-input&gt;</code></pre>
    </div>
  </section>
  
  <section class="demo-section">
    <h2>错误状态</h2>
    <div class="demo-row">
      <div class="input-wrapper">
        <uds-input error="请输入有效内容" placeholder="错误状态"></uds-input>
      </div>
    </div>

    <div class="code-block">
      <pre><code>&lt;uds-input error="请输入有效内容" placeholder="错误状态"&gt;&lt;/uds-input&gt;</code></pre>
    </div>
  </section>
  
  <section class="demo-section">
    <h2>带图标</h2>
    <div class="demo-row">
      <div class="input-wrapper">
        <uds-input placeholder="带前缀图标">
          <svg slot="prefix" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </uds-input>
      </div>
      <div class="input-wrapper">
        <uds-input placeholder="带后缀图标">
          <svg slot="suffix" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M19 10v2a7 7 0 0 1-14 0v-2" stroke-linecap="round" stroke-linejoin="round"/>
            <line x1="12" y1="19" x2="12" y2="23" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </uds-input>
      </div>
    </div>
    <div class="code-block">
      <pre><code>&lt;uds-input placeholder="带前缀图标"&gt;
  &lt;svg slot="prefix" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"&gt;
    &lt;path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round"/&gt;
  &lt;/svg&gt;
&lt;/uds-input&gt;

&lt;uds-input placeholder="带后缀图标"&gt;
  &lt;svg slot="suffix" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"&gt;
    &lt;path d="M12 5v14M5 12h14" stroke-linecap="round" stroke-linejoin="round"/&gt;
  &lt;/svg&gt;
&lt;/uds-input&gt;</code></pre>
    </div>
  </section>
  
  <section class="demo-section">
    <h2>不同类型</h2>
    <div class="demo-row">
      <div class="input-wrapper">
        <uds-input type="password" placeholder="密码输入框"></uds-input>
      </div>
      <div class="input-wrapper" >
        <uds-input type="number" placeholder="数字输入框" clear>
          <svg slot="suffix" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 5v14M5 12h14" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </uds-input>
      </div>
    </div>

    <div class="code-block">
      <pre><code>&lt;uds-input type="password" placeholder="密码输入框"&gt;&lt;/uds-input&gt;
&lt;uds-input type="number" placeholder="数字输入框"&gt;&lt;/uds-input&gt;</code></pre>
    </div>
  </section>
  
  <section class="demo-section">
    <h2>API</h2>
    <h3>属性</h3>
    <table border="1" cellspacing="0" cellpadding="10" style="width: 100%; border-collapse: collapse;">
      <thead>
        <tr>
          <th>属性</th>
          <th>说明</th>
          <th>类型</th>
          <th>默认值</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>type</td>
          <td>输入框类型，同原生 input 的 type 属性</td>
          <td>string</td>
          <td>text</td>
        </tr>
        <tr>
          <td>placeholder</td>
          <td>输入框占位文本</td>
          <td>string</td>
          <td>-</td>
        </tr>
        <tr>
          <td>value</td>
          <td>输入框内容</td>
          <td>string</td>
          <td>-</td>
        </tr>
        <tr>
          <td>disabled</td>
          <td>是否禁用</td>
          <td>boolean</td>
          <td>false</td>
        </tr>
        <tr>
          <td>readonly</td>
          <td>是否只读</td>
          <td>boolean</td>
          <td>false</td>
        </tr>
        <tr>
          <td>size</td>
          <td>输入框尺寸</td>
          <td>sm | md | lg</td>
          <td>md</td>
        </tr>
        <tr>
          <td>maxlength</td>
          <td>最大输入长度</td>
          <td>number</td>
          <td>-</td>
        </tr>
        <tr>
          <td>minlength</td>
          <td>最小输入长度</td>
          <td>number</td>
          <td>-</td>
        </tr>
        <tr>
          <td>required</td>
          <td>是否必填</td>
          <td>boolean</td>
          <td>false</td>
        </tr>
        <tr>
          <td>error</td>
          <td>错误提示文本</td>
          <td>string</td>
          <td>-</td>
        </tr>
        <tr>
          <td>clear</td>
          <td>是否显示清除按钮</td>
          <td>boolean</td>
          <td>false</td>
        </tr>
        <tr>
          <td>multiline</td>
          <td>是否为多行文本输入</td>
          <td>boolean</td>
          <td>false</td>
        </tr>
        <tr>
          <td>resizer</td>
          <td>是否显示多行文本的调整大小控件</td>
          <td>boolean</td>
          <td>false</td>
        </tr>
      </tbody>
    </table>
    
    <h3>插槽</h3>
    <table border="1" cellspacing="0" cellpadding="10" style="width: 100%; border-collapse: collapse; margin-top: 16px;">
      <thead>
        <tr>
          <th>名称</th>
          <th>说明</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>prefix</td>
          <td>输入框前缀内容</td>
        </tr>
        <tr>
          <td>suffix</td>
          <td>输入框后缀内容</td>
        </tr>
      </tbody>
    </table>
    
    <h3>事件</h3>
    <table border="1" cellspacing="0" cellpadding="10" style="width: 100%; border-collapse: collapse; margin-top: 16px;">
      <thead>
        <tr>
          <th>事件名</th>
          <th>说明</th>
          <th>回调参数</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>input</td>
          <td>输入框内容变化时触发</td>
          <td>event.detail.value: string</td>
        </tr>
        <tr>
          <td>focus</td>
          <td>输入框获得焦点时触发</td>
          <td>-</td>
        </tr>
        <tr>
          <td>blur</td>
          <td>输入框失去焦点时触发</td>
          <td>-</td>
        </tr>
        <tr>
          <td>clear</td>
          <td>点击清除按钮时触发</td>
          <td>-</td>
        </tr>
      </tbody>
    </table>
  </section>
  
  <!-- 使用共用JS文件中的代码块展开/隐藏功能 -->
</body>
</html>