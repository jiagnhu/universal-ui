<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>安装指南 - Universal Design System</title>
  <link rel="stylesheet" href="../dist/styles/tokens.css">
  <script>
    // 立即检查主题设置，避免闪动
    (function() {
      try {
        // 尝试从localStorage获取主题
        const storedTheme = localStorage.getItem('uds-theme');
        if (storedTheme === 'dark') {
          document.documentElement.setAttribute('data-theme', 'dark');
        }
        
        // 检查URL参数
        const urlParams = new URLSearchParams(window.location.search);
        const themeParam = urlParams.get('theme');
        if (themeParam === 'dark') {
          document.documentElement.setAttribute('data-theme', 'dark');
        }
      } catch (e) {
        console.error('Theme initialization error:', e);
      }
    })();
  </script>
  <style>
    body {
      font-family: var(--uds-font-sans);
      margin: 0;
      padding: 20px;
      background-color: var(--uds-color-bg);
      color: var(--uds-color-text);
      transition: background-color 0.3s, color 0.3s;
    }
    
    .demo-section {
      margin-bottom: 32px;
    }
    
    .code-block {
      background: var(--uds-color-bg-subtle);
      border: 1px solid var(--uds-color-border);
      border-radius: var(--uds-radius-md);
      padding: 16px;
      margin: 16px 0;
      overflow: auto;
      font-family: monospace;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    
    th, td {
      border: 1px solid var(--uds-color-border);
      padding: 12px;
      text-align: left;
    }
    
    th {
      background-color: var(--uds-color-bg-subtle);
    }
    
    h1, h2, h3 {
      margin-top: 40px;
      margin-bottom: 16px;
    }
    
    h1 {
      font-size: 32px;
      border-bottom: 1px solid var(--uds-color-border);
      padding-bottom: 10px;
    }
    
    h2 {
      font-size: 24px;
    }
    
    h3 {
      font-size: 20px;
    }
    
    .installation-steps {
      margin-top: 30px;
    }
    
    .step {
      margin-bottom: 30px;
    }
    
    .step-number {
      display: inline-block;
      width: 30px;
      height: 30px;
      background-color: var(--uds-color-primary);
      color: white;
      border-radius: 50%;
      text-align: center;
      line-height: 30px;
      margin-right: 10px;
    }
    
    .uds-form-group {
      margin-bottom: 15px;
    }
  </style>
</head>
<body>
  <h1>安装指南</h1>
  
  <div class="demo-section">
    <h2>环境准备</h2>
    
    <h3>项目初始化</h3>
    <p>首先，我们创建了一个新的项目目录并初始化 npm 项目：</p>
    <div class="code-block">
      <pre><code>mkdir universal-ui-test
cd universal-ui-test
npm init -y</code></pre>
    </div>
    
    <h3>安装依赖</h3>
    <p>安装 Universal Design System 组件库：</p>
    <div class="code-block">
      <pre><code>npm install universal-design-system</code></pre>
    </div>
    
    <p>安装 HTTP 服务器用于本地预览：</p>
    <div class="code-block">
      <pre><code>npm install -g http-server</code></pre>
    </div>
    
    <h2>创建基础 HTML 文件</h2>
    <p>创建了一个基础的 HTML 文件 <code>index.html</code>，引入 Universal Design System 的样式和脚本：</p>
    <div class="code-block">
      <pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="zh-CN"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Universal Design System 示例&lt;/title&gt;
    &lt;!-- 引入 Universal Design System 样式 --&gt;
    &lt;link rel="stylesheet" href="node_modules/universal-design-system/dist/styles/tokens.css"&gt;
    &lt;style&gt;
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .demo-section {
            margin-bottom: 30px;
        }
        .uds-form-group {
            margin-bottom: 15px;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Universal Design System 组件演示&lt;/h1&gt;
    
    &lt;!-- 引入 Universal Design System 脚本 --&gt;
    &lt;script src="node_modules/universal-design-system/dist/index.umd.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
    </div>
    
    <h2>添加组件示例</h2>
    
    <h3>按钮组件</h3>
    <p>添加了不同类型和状态的按钮组件：</p>
    <div class="code-block">
      <pre><code>&lt;div class="demo-section"&gt;
    &lt;h2&gt;按钮组件&lt;/h2&gt;
    &lt;uds-button&gt;默认按钮&lt;/uds-button&gt;
    &lt;uds-button variant="primary"&gt;主要按钮&lt;/uds-button&gt;
    &lt;uds-button variant="secondary"&gt;次要按钮&lt;/uds-button&gt;
    &lt;uds-button variant="danger"&gt;危险按钮&lt;/uds-button&gt;
    &lt;uds-button disabled&gt;禁用按钮&lt;/uds-button&gt;
&lt;/div&gt;</code></pre>
    </div>
    
    <h3>表单元素</h3>
    <p>添加了各种表单元素，包括输入框、单选框和复选框：</p>
    <div class="code-block">
      <pre><code>&lt;div class="demo-section"&gt;
    &lt;h2&gt;表单元素&lt;/h2&gt;
    &lt;div class="uds-form-group"&gt;
        &lt;label class="uds-label"&gt;用户名&lt;/label&gt;
        &lt;uds-input placeholder="请输入用户名"&gt;&lt;/uds-input&gt;
    &lt;/div&gt;
    
    &lt;div class="uds-form-group"&gt;
        &lt;label class="uds-label"&gt;密码&lt;/label&gt;
        &lt;uds-input type="password" placeholder="请输入密码"&gt;&lt;/uds-input&gt;
    &lt;/div&gt;
    
    &lt;!-- 单选框组 - 水平模式 --&gt;
    &lt;div class="uds-form-group"&gt;
        &lt;label class="uds-label"&gt;性别&lt;/label&gt;
        &lt;uds-radio-group name="gender" value="male" horizontal&gt;
            &lt;uds-radio value="male"&gt;男&lt;/uds-radio&gt;
            &lt;uds-radio value="female"&gt;女&lt;/uds-radio&gt;
            &lt;uds-radio value="other"&gt;其他&lt;/uds-radio&gt;
        &lt;/uds-radio-group&gt;
    &lt;/div&gt;
    
    &lt;!-- 复选框组 - 水平模式 --&gt;
    &lt;div class="uds-form-group"&gt;
        &lt;label class="uds-label"&gt;兴趣爱好&lt;/label&gt;
        &lt;uds-checkbox-group name="hobbies" horizontal&gt;
            &lt;uds-checkbox value="reading"&gt;阅读&lt;/uds-checkbox&gt;
            &lt;uds-checkbox value="sports" checked&gt;运动&lt;/uds-checkbox&gt;
            &lt;uds-checkbox value="music"&gt;音乐&lt;/uds-checkbox&gt;
            &lt;uds-checkbox value="travel"&gt;旅行&lt;/uds-checkbox&gt;
        &lt;/uds-checkbox-group&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
    </div>
    
    <h2>组件优化过程</h2>
    
    <h3>单选框和复选框组件改进</h3>
    <p>最初，我们使用单独的 <code>&lt;uds-radio&gt;</code> 和 <code>&lt;uds-checkbox&gt;</code> 元素，后来改进为使用 <code>&lt;uds-radio-group&gt;</code> 和 <code>&lt;uds-checkbox-group&gt;</code> 组件：</p>
    
    <h4>改进前：</h4>
    <div class="code-block">
      <pre><code>&lt;!-- 单选框 --&gt;
&lt;div class="uds-form-group"&gt;
    &lt;label class="uds-label"&gt;性别&lt;/label&gt;
    &lt;div&gt;
        &lt;uds-radio name="gender" value="male" checked&gt;男&lt;/uds-radio&gt;
        &lt;uds-radio name="gender" value="female"&gt;女&lt;/uds-radio&gt;
        &lt;uds-radio name="gender" value="other"&gt;其他&lt;/uds-radio&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;!-- 复选框 --&gt;
&lt;div class="uds-form-group"&gt;
    &lt;label class="uds-label"&gt;兴趣爱好&lt;/label&gt;
    &lt;div&gt;
        &lt;uds-checkbox name="hobbies" value="reading"&gt;阅读&lt;/uds-checkbox&gt;
        &lt;uds-checkbox name="hobbies" value="sports" checked&gt;运动&lt;/uds-checkbox&gt;
        &lt;uds-checkbox name="hobbies" value="music"&gt;音乐&lt;/uds-checkbox&gt;
        &lt;uds-checkbox name="hobbies" value="travel"&gt;旅行&lt;/uds-checkbox&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
    </div>
    
    <h4>改进后：</h4>
    <div class="code-block">
      <pre><code>&lt;!-- 单选框组 --&gt;
&lt;div class="uds-form-group"&gt;
    &lt;label class="uds-label"&gt;性别&lt;/label&gt;
    &lt;uds-radio-group name="gender" value="male"&gt;
        &lt;uds-radio value="male"&gt;男&lt;/uds-radio&gt;
        &lt;uds-radio value="female"&gt;女&lt;/uds-radio&gt;
        &lt;uds-radio value="other"&gt;其他&lt;/uds-radio&gt;
    &lt;/uds-radio-group&gt;
&lt;/div&gt;

&lt;!-- 复选框组 --&gt;
&lt;div class="uds-form-group"&gt;
    &lt;label class="uds-label"&gt;兴趣爱好&lt;/label&gt;
    &lt;uds-checkbox-group name="hobbies"&gt;
        &lt;uds-checkbox value="reading"&gt;阅读&lt;/uds-checkbox&gt;
        &lt;uds-checkbox value="sports" checked&gt;运动&lt;/uds-checkbox&gt;
        &lt;uds-checkbox value="music"&gt;音乐&lt;/uds-checkbox&gt;
        &lt;uds-checkbox value="travel"&gt;旅行&lt;/uds-checkbox&gt;
    &lt;/uds-checkbox-group&gt;
&lt;/div&gt;</code></pre>
    </div>
    
    <h3>添加水平布局</h3>
    <p>为了使单选框和复选框在同一行显示，我们添加了 <code>horizontal</code> 属性：</p>
    <div class="code-block">
      <pre><code>&lt;uds-radio-group name="gender" value="male" horizontal&gt;
    &lt;!-- 单选框内容 --&gt;
&lt;/uds-radio-group&gt;

&lt;uds-checkbox-group name="hobbies" horizontal&gt;
    &lt;!-- 复选框内容 --&gt;
&lt;/uds-checkbox-group&gt;</code></pre>
    </div>
    
    <h2>本地预览</h2>
    <p>使用 HTTP 服务器在本地预览页面：</p>
    <div class="code-block">
      <pre><code>npx http-server -p 8082 -o</code></pre>
    </div>
    <p>页面可以在浏览器中通过 http://127.0.0.1:8082 访问。</p>
    
    <h2>总结</h2>
    <p>通过本次实践，我们成功使用 Universal Design System 创建了一个包含按钮、输入框、单选框和复选框的示例页面。组件库提供了丰富的功能和灵活的配置选项，使界面开发变得简单高效。</p>
    
    <p>主要收获：</p>
    <ol>
      <li>了解了 Universal Design System 的基本使用方法</li>
      <li>掌握了各种组件的属性和配置选项</li>
      <li>学习了组件的组合使用和布局调整</li>
      <li>体验了组件库如何提高开发效率和界面一致性</li>
    </ol>
    
    <h2>后续改进方向</h2>
    <ol>
      <li>探索更多高级组件（如表格、模态框、导航等）</li>
      <li>尝试自定义主题和样式</li>
      <li>实现响应式布局</li>
      <li>添加表单验证和交互功能</li>
    </ol>
  </div>
  
  <script>
    // 监听来自父窗口的主题切换消息
    window.addEventListener('message', function(event) {
      if (event.data && event.data.type === 'themeChange') {
        if (event.data.theme === 'dark') {
          document.documentElement.setAttribute('data-theme', 'dark');
        } else {
          document.documentElement.removeAttribute('data-theme');
        }
      }
    });

    // 检查URL参数中是否有主题设置
    const urlParams = new URLSearchParams(window.location.search);
    const theme = urlParams.get('theme');
    if (theme === 'dark') {
      document.documentElement.setAttribute('data-theme', 'dark');
    }
  </script>
</body>
</html>